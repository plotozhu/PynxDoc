
# Peerset 分组策略

## 可配置优先组
1. 将上级可信节点（中继链节点）加入priority_groups["reserved"], 优先连接.
2. 将信标节点加入bootnodes节点
3. 启动是主动与以上节点建立外出连接
4. 可将最近优先组持久化保存在本地文件系统，节点重启后快速恢复连接

## Peer分组
 1. 节点发现到的节点默认未加入任何优先组。
 2. 本地节点加入组后，向网络DHT查询分组成员列表，根据查询结果对本地连接节点进行分组，不属于本组的节点断开(drop)连接。
 3. 同组节点加入priority_groups["{group_id}"],以此优先连接同组节点。
 4. 将本地节点加入组成员，并通过DHT网络存储节点成员列表
## 消息组播

1. 在网络服务层添加组播接口，当前节点只能发送已加入组的组播消息
2. 分别向已连接的组发送组播消息
3. 分组消息接收与同组转发
4. 为了降低消息重复转发率，消息接收节点缓存已接收到消息的hash和已经转发的消息(hash，[peers])
